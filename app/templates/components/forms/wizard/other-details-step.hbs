<form
  class="ui form {{if this.isLoading "loading"}}"
  autocomplete="off"
  novalidate
  {{action "move" "forward" on="submit" preventDefault=true}} style="cursor: default"
>
  <div class="my-card">
      <h3 class="ui dividing header weight-300">
        {{t 'Information About Additional Info'}}
      </h3>
      <div class="ui muted aligned text" style="text-align: justify;">
        {{t 'This section collects additional information about your event.'}}
      </div>
  </div>

  <div class="my-card">
    <h3 class="ui dividing header weight-300">
        {{t 'Links & Social Media'}}
    </h3>
    <div class="grouped fields" id="social-links">
      {{!-- <div class="ui header">
        <label>{{t "Links & Social Media"}}</label>
      </div> --}}
      <h4>
        {{t "Social Media"}}
        <UiPopup
          @content={{t "Add social link"}}
          @class="ui compact icon teal circular button ml-2"
          style="margin-left: 1rem !important;"
          @click={{action "addItem" "socialLinks" "social-link"}}
          @position="top center"
        >
          <i class="plus icon"></i>
        </UiPopup>
      </h4>

      {{#each this.socialMediaLinks as |socialLink|}}
        <Widgets::Forms::SocialLinkField
          @site={{socialLink.site}}
          @onSiteChange={{action (mut socialLink.name)}}
          @value={{socialLink.link}}
          @onChange={{action (mut socialLink.link)}}
        >
          <div class="ui icon buttons">
            <UiPopup
              @content={{t "Remove"}}
              @class="ui icon button"
              @click={{action "removeItem" socialLink "socialLinks"}}
              @position="top center"
            >
              <i class="minus red icon"></i>
            </UiPopup>
          </div>
        </Widgets::Forms::SocialLinkField>
      {{/each}}

      <h4>
        {{t "Extra Links"}}
        <UiPopup
          @content={{t "Add custom link"}}
          @class="ui compact icon teal circular button"
          style="margin-left: 1rem !important;"
          @click={{action "addItem" "customLink" "social-link"}}
          @position="top center"
        >
          <i class="plus icon"></i>
        </UiPopup>
      </h4>

      {{#each this.customLinks as |socialLink|}}
        <Widgets::Forms::SocialLinkField
          @custom={{true}}
          @site={{socialLink.name}}
          @onSiteChange={{action (mut socialLink.name)}}
          @value={{socialLink.link}}
          @onChange={{action (mut socialLink.link)}}
        >
          <div class="ui icon buttons">
            <UiPopup
              @content={{t "Remove"}}
              @class="ui icon button"
              @click={{action "removeItem" socialLink "socialLinks"}}
              @position="top center"
            >
              <i class="minus red icon"></i>
            </UiPopup>
          </div>
        </Widgets::Forms::SocialLinkField>
      {{/each}}
    </div>
  </div>

  <div class="my-card">
    <h3 class="ui dividing header weight-300">
        {{t 'Refund Policy'}}
    </h3>
    <div class="field">
      <div class="ui header">
        {{!-- <label for="refund_policy">{{t "Refund Policy"}}</label> --}}
        <div class="sub header">
          {{t
            "Refunds to be processed by the organizer through payment provider. Refund payments to attendees cannot be made on the eventyay platform. Please go to your payment provider, make a refund and mark the ticket as refunded in the eventyay platform."
          }}
        </div>
      </div>
      <br/>
      <Widgets::Forms::RichTextEditor
        @textareaId="refunduct"
        @value={{this.data.event.refundPolicy}}
      />

    </div>
  </div>

  <div class="my-card">
    <h3 class="ui dividing header weight-300">
        {{t 'Listing Privacy'}}
    </h3>
    <div class="grouped fields">
      {{!-- <label for="privacy">{{t "Listing Privacy"}}</label> --}}
      <label for="privacy" class="ui header">{{t "Listing Privacy"}}</label>
      <div class="field">
        <div class="ui radio checkbox">
          {{widgets/forms/radio-button
            this.value
            name="privacy"
            id="privacy_public"
            value="public"
            checked=this.data.event.privacy
          }}
          <label for="privacy_public">
            <strong>{{t "Public event"}}:</strong>
            {{t "list this event on this site and search engines"}}
          </label>
        </div>
      </div>
      <div class="field">
        <div class="ui radio checkbox">
          {{widgets/forms/radio-button
            this.value
            name="privacy"
            id="privacy_private"
            value="private"
            checked=this.data.event.privacy
          }}
          <label for="privacy_private">
            <strong>{{t "Private event"}}:</strong>
            {{t "do not list this event publicly"}}
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="my-card">
    {{!-- <div class="field">
      <div class="ui slider checkbox">
        <Input
          @type="checkbox"
          @checked={{this.hasCodeOfConduct}}
          @id="add_code_of_conduct"
        />
        <label for="add_code_of_conduct">{{t "Add Code of Conduct"}}</label>
      </div>
    </div> --}}
    <div {{action "toggleColapse"}}>
      <h3 class="ui dividing header weight-300" style="background-color: #ffffff; display: flex; justify-content: space-between;">
        {{t 'Code of Conduct'}}
          <i class="{{if this.collapsed 'caret up icon' 'caret down icon'}}" style="background-color: #ffffff;"></i>
      </h3>
    </div>
    {{!-- <button type="button" class="collapsible" {{action "toggleColapse"}}>{{t
        "Add Code of Conduct"
      }}</button> --}}
    <div class="collapsible-content {{this.collapseContent}}" style="padding-left: 0px; padding-right: 0px">

      {{#if this.hasCodeOfConduct}}
        <div class="field">
          <label for="code_of_conduct">{{t "Code of Conduct"}}</label>
          <Widgets::Forms::RichTextEditor
            @textareaId="code_of_conduct"
            @value={{this.data.event.codeOfConduct}}
          />
        </div>
      {{/if}}
    </div>
  </div>

  <div class="my-card">
     <h3 class="ui dividing header weight-300">
        {{t 'License'}}
    </h3>
    <div class="field">
      <label for="license">
        {{t "License of Event Data & Content"}}
        (
        <i class="fitted help icon link has popup"></i>
        )
        <div class="ui flowing popup top left transition hidden">
          <div class="ui one column divided grid">
            <div class="column">
              <strong>{{t "Licenses"}}</strong>
              <div class="ui bulleted list">
                {{#each this.licenses as |license|}}
                  <div class="item">
                    <a
                      href="{{license.link}}"
                      target="_blank"
                      rel="noopener noreferrer"
                    >
                      {{t-var license.name}}
                    </a>
                  </div>
                {{/each}}
              </div>
            </div>
          </div>
        </div>
      </label>
      <div class="ui labeled input">
        <UiDropdown
          @class="fluid search selection"
          @selected={{this.data.event.copyright.licence}}
          @onChange={{action "updateCopyright"}}
          @forceSelection={{false}}
          @fullTextSearch={{true}}
        >
          <Input
            @type="hidden"
            @id="license"
            @value={{this.data.event.copyright.licence}}
          />
          <i class="dropdown icon"></i>
          <div class="default text">{{t "Select License"}}</div>
          <div class="menu">
            {{#each this.licenses as |license|}}
              <div
                class="item"
                data-value="{{license.name}}"
              >{{license.name}}</div>
            {{/each}}
          </div>
        </UiDropdown>
        {{#if data.event.copyright.licence}}
          <button
            type="button"
            class="ui icon button"
            {{action "clearLicense"}}
          >
            <i class="remove icon"></i>
          </button>
        {{/if}}
      </div>
    </div>
  </div>
  <div class="spacer-50"></div>

</form>

<Forms::Wizard::WizardFooter
  @event={{this.data.event}}
  @loading={{this.loading}}
  @device={{this.device}}
  @onSaved={{action "saveForm"}}
  @onSaveDraft={{action "saveDraft"}}
  @move={{action "move"}}
/>